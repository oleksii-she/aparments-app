import{S as k,C as A}from"./containerAuth-a5035e42.js";import{_ as U,b as y,u as I,r as g,d as B,e as p,o as w,c as b,f as t,a as l,g as n,t as h,h as C,i as E,F as L,p as z,j as F,A as N}from"./index-2462ae2c.js";const S=o=>(z("data-v-6b86754b"),o=o(),F(),o),P=["onSubmit"],Z=S(()=>l("h2",{class:"form__title"},"Логін",-1)),D={class:"warning__text"},R={class:"warning__text"},$=S(()=>l("a",{href:"http://localhost:4040/auth/google"},"GoogleLink",-1)),j={__name:"login",setup(o){const d=N({position:"top"}),m=y(),u=I(),e=g({email:"",password:""}),a=g({name:"",password:"",email:""}),i=B(!1),v=/^([a-zA-Z0-9._%-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})$/,x=async()=>{let r=!0;switch(!0){case!e.email:a.email="поле не має бути пустим",r=!1;break;case!v.test(e.email):a.email="неправильний формат пошти",r=!1;break;default:a.email="";break}switch(!0){case!e.password:a.password="поле не має бути пустим",r=!1;break;default:a.password="",a.confirmPassword="";break}if(!r)return;const s={email:e.email,password:e.password};try{i.value=!0,await u.login(s),i.value=!1,m.push({name:"home"})}catch(c){if(d.error(c.message),u.statusError){i.value=!1,console.log(u.statusError);return}}};return(r,s)=>{const c=p("ULoader"),f=p("UInput"),V=p("UButton");return w(),b(L,null,[t(c,{loading:i.value},null,8,["loading"]),l("form",{class:"form__auth",onSubmit:E(x,["prevent","stop"])},[Z,t(f,{class:"input_margin",modelValue:e.email,"onUpdate:modelValue":s[0]||(s[0]=_=>e.email=_),placeholder:"Email",type:"email"},{default:n(()=>[l("p",D,h(a.email),1)]),_:1},8,["modelValue"]),t(f,{class:"input_margin",modelValue:e.password,"onUpdate:modelValue":s[1]||(s[1]=_=>e.password=_),placeholder:"Password",type:"password"},{default:n(()=>[l("p",R,h(a.password),1)]),_:1},8,["modelValue"]),$,t(V,null,{default:n(()=>[C("Вхід")]),_:1})],40,P)],64)}}},G=U(j,[["__scopeId","data-v-6b86754b"]]),q={__name:"loginPage",setup(o){return(d,m)=>(w(),b("main",null,[t(k,null,{default:n(()=>[t(A,null,{default:n(()=>[t(G)]),_:1})]),_:1})]))}};export{q as default};
