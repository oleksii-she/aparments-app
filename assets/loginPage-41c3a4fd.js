import{S as A,C as U}from"./containerAuth-da178c2e.js";import{_ as y,b as I,u as B,r as g,d as L,e as i,o as h,c as b,f as s,a as c,g as l,t as w,h as C,i as D,F as E,m as z,p as F,j as N,A as P}from"./index-2d200f35.js";const Z=n=>(F("data-v-eac26b7b"),n=n(),N(),n),G=["onSubmit"],R=Z(()=>c("h2",{class:"form__title"},"Логін",-1)),$={class:"warning__text"},j={class:"warning__text"},H={__name:"login",setup(n){const d=P({position:"top"}),m=I(),u=B(),S=o=>{console.log(o,"response");const t=z(o.credential);console.log("Handle the userData",t)},e=g({email:"",password:""}),a=g({name:"",password:"",email:""}),r=L(!1),v=/^([a-zA-Z0-9._%-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})$/,x=async()=>{let o=!0;switch(!0){case!e.email:a.email="поле не має бути пустим",o=!1;break;case!v.test(e.email):a.email="неправильний формат пошти",o=!1;break;default:a.email="";break}switch(!0){case!e.password:a.password="поле не має бути пустим",o=!1;break;default:a.password="",a.confirmPassword="";break}if(!o)return;const t={email:e.email,password:e.password};try{r.value=!0,await u.login(t),r.value=!1,m.push({name:"home"})}catch(_){if(d.error(_.message),u.statusError){r.value=!1,console.log(u.statusError);return}}};return(o,t)=>{const _=i("ULoader"),f=i("UInput"),V=i("GoogleLogin"),k=i("UButton");return h(),b(E,null,[s(_,{loading:r.value},null,8,["loading"]),c("form",{class:"form__auth",onSubmit:D(x,["prevent","stop"])},[R,s(f,{class:"input_margin",modelValue:e.email,"onUpdate:modelValue":t[0]||(t[0]=p=>e.email=p),placeholder:"Email",type:"email"},{default:l(()=>[c("p",$,w(a.email),1)]),_:1},8,["modelValue"]),s(f,{class:"input_margin",modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=p=>e.password=p),placeholder:"Password",type:"password"},{default:l(()=>[c("p",j,w(a.password),1)]),_:1},8,["modelValue"]),s(V,{callback:S,prompt:"","auto-login":""}),s(k,null,{default:l(()=>[C("Вхід")]),_:1})],40,G)],64)}}},M=y(H,[["__scopeId","data-v-eac26b7b"]]),J={__name:"loginPage",setup(n){return(d,m)=>(h(),b("main",null,[s(A,null,{default:l(()=>[s(U,null,{default:l(()=>[s(M)]),_:1})]),_:1})]))}};export{J as default};
