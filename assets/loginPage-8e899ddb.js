import{S as A,C as U}from"./containerAuth-04bd9afa.js";import{_ as y,b as I,u as B,r as w,d as L,e as u,o as v,c as S,f as t,a as _,g as r,t as h,h as C,i as E,F as j,m as z,p as F,j as N,A as P}from"./index-79db5f85.js";const Z=l=>(F("data-v-e47744df"),l=l(),N(),l),D=["onSubmit"],G=Z(()=>_("h2",{class:"form__title"},"Логін",-1)),R={class:"warning__text"},$={class:"warning__text"},M={__name:"login",setup(l){const f=P({position:"top"}),g=I(),d=B(),b=s=>{const{email:o,email_verified:n,name:c,jti:m}=z(s.credential);console.log(c,"name"),console.log(o,"email"),console.log(n,"email_verified"),console.log(m,"jti")},e=w({email:"",password:""}),a=w({name:"",password:"",email:""}),i=L(!1),x=/^([a-zA-Z0-9._%-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})$/,V=async()=>{let s=!0;switch(!0){case!e.email:a.email="поле не має бути пустим",s=!1;break;case!x.test(e.email):a.email="неправильний формат пошти",s=!1;break;default:a.email="";break}switch(!0){case!e.password:a.password="поле не має бути пустим",s=!1;break;default:a.password="",a.confirmPassword="";break}if(!s)return;const o={email:e.email,password:e.password};try{i.value=!0,await d.login(o),i.value=!1,g.push({name:"home"})}catch(n){if(f.error(n.message),d.statusError){i.value=!1,console.log(d.statusError);return}}};return(s,o)=>{const n=u("ULoader"),c=u("UInput"),m=u("GoogleLogin"),k=u("UButton");return v(),S(j,null,[t(n,{loading:i.value},null,8,["loading"]),_("form",{class:"form__auth",onSubmit:E(V,["prevent","stop"])},[G,t(c,{class:"input_margin",modelValue:e.email,"onUpdate:modelValue":o[0]||(o[0]=p=>e.email=p),placeholder:"Email",type:"email"},{default:r(()=>[_("p",R,h(a.email),1)]),_:1},8,["modelValue"]),t(c,{class:"input_margin",modelValue:e.password,"onUpdate:modelValue":o[1]||(o[1]=p=>e.password=p),placeholder:"Password",type:"password"},{default:r(()=>[_("p",$,h(a.password),1)]),_:1},8,["modelValue"]),t(m,{callback:b,prompt:"","auto-login":""}),t(k,null,{default:r(()=>[C("Вхід")]),_:1})],40,D)],64)}}},T=y(M,[["__scopeId","data-v-e47744df"]]),J={__name:"loginPage",setup(l){return(f,g)=>(v(),S("main",null,[t(A,null,{default:r(()=>[t(U,null,{default:r(()=>[t(T)]),_:1})]),_:1})]))}};export{J as default};
