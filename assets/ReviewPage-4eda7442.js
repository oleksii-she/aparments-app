import{G as ke,H as I,r as Y,d as u,I as $,J as Fe,K as Ge,L as qe,s as De,w as ge,N as Oe,F as te,O as P,_ as le,o as v,c as h,B as se,Q as Je,a as o,S as Ke,p as Ae,k as Ce,l as Ee,T as Qe,e as ie,i as Ue,f as T,g as S,h as L,j as Ze,n as Be,u as et,q as Pe,b as tt,t as A,m as R,U as nt,v as z,x as O,y as ot,V as at,M as ye,A as Ye,W as st}from"./index-c6fecb5a.js";/**
 * Vue 3 Carousel 0.3.1
 * (c) 2023
 * @license MIT
 */const w={itemsToShow:1,itemsToScroll:1,modelValue:0,transition:300,autoplay:0,snapAlign:"center",wrapAround:!1,throttle:16,pauseAutoplayOnHover:!1,mouseDrag:!0,touchDrag:!0,dir:"ltr",breakpoints:void 0,i18n:{ariaNextSlide:"Navigate to next slide",ariaPreviousSlide:"Navigate to previous slide",ariaNavigateToSlide:"Navigate to slide {slideNumber}",ariaGallery:"Gallery",itemXofY:"Item {currentSlide} of {slidesCount}",iconArrowUp:"Arrow pointing upwards",iconArrowDown:"Arrow pointing downwards",iconArrowRight:"Arrow pointing to the right",iconArrowLeft:"Arrow pointing to the left"}},je={itemsToShow:{default:w.itemsToShow,type:Number},itemsToScroll:{default:w.itemsToScroll,type:Number},wrapAround:{default:w.wrapAround,type:Boolean},throttle:{default:w.throttle,type:Number},snapAlign:{default:w.snapAlign,validator(e){return["start","end","center","center-even","center-odd"].includes(e)}},transition:{default:w.transition,type:Number},breakpoints:{default:w.breakpoints,type:Object},autoplay:{default:w.autoplay,type:Number},pauseAutoplayOnHover:{default:w.pauseAutoplayOnHover,type:Boolean},modelValue:{default:void 0,type:Number},mouseDrag:{default:w.mouseDrag,type:Boolean},touchDrag:{default:w.touchDrag,type:Boolean},dir:{default:w.dir,validator(e){return["rtl","ltr"].includes(e)}},i18n:{default:w.i18n,type:Object},settings:{default(){return{}},type:Object}};function it({config:e,slidesCount:n}){const{snapAlign:t,wrapAround:a,itemsToShow:r=1}=e;if(a)return Math.max(n-1,0);let c;switch(t){case"start":c=n-r;break;case"end":c=n-1;break;case"center":case"center-odd":c=n-Math.ceil((r-.5)/2);break;case"center-even":c=n-Math.ceil(r/2);break;default:c=0;break}return Math.max(c,0)}function lt({config:e,slidesCount:n}){const{wrapAround:t,snapAlign:a,itemsToShow:r=1}=e;let c=0;if(t||r>n)return c;switch(a){case"start":c=0;break;case"end":c=r-1;break;case"center":case"center-odd":c=Math.floor((r-1)/2);break;case"center-even":c=Math.floor((r-2)/2);break;default:c=0;break}return c}function we({val:e,max:n,min:t}){return n<t?e:Math.min(Math.max(e,t),n)}function rt({config:e,currentSlide:n,slidesCount:t}){const{snapAlign:a,wrapAround:r,itemsToShow:c=1}=e;let p=n;switch(a){case"center":case"center-odd":p-=(c-1)/2;break;case"center-even":p-=(c-2)/2;break;case"end":p-=c-1;break}return r?p:we({val:p,max:t-c,min:0})}function Xe(e){return e?e.reduce((n,t)=>{var a;return t.type===te?[...n,...Xe(t.children)]:((a=t.type)===null||a===void 0?void 0:a.name)==="CarouselSlide"?[...n,t]:n},[]):[]}function be({val:e,max:n,min:t=0}){return e>n?be({val:e-(n+1),max:n,min:t}):e<t?be({val:e+(n+1),max:n,min:t}):e}function ct(e,n){let t;return n?function(...a){const r=this;t||(e.apply(r,a),t=!0,setTimeout(()=>t=!1,n))}:e}function ut(e,n){let t;return function(...a){t&&clearTimeout(t),t=setTimeout(()=>{e(...a),t=null},n)}}function dt(e="",n={}){return Object.entries(n).reduce((t,[a,r])=>t.replace(`{${a}}`,String(r)),e)}var mt=ke({name:"ARIA",setup(){const e=I("config",Y(Object.assign({},w))),n=I("currentSlide",u(0)),t=I("slidesCount",u(0));return()=>$("div",{class:["carousel__liveregion","carousel__sr-only"],"aria-live":"polite","aria-atomic":"true"},dt(e.i18n.itemXofY,{currentSlide:n.value+1,slidesCount:t.value}))}}),vt=ke({name:"Carousel",props:je,setup(e,{slots:n,emit:t,expose:a}){var r;const c=u(null),p=u([]),s=u(0),m=u(0),i=Y(Object.assign({},w));let d=Object.assign({},w),x;const _=u((r=e.modelValue)!==null&&r!==void 0?r:0),N=u(0),F=u(0),V=u(0),E=u(0);let M,Q;P("config",i),P("slidesCount",m),P("currentSlide",_),P("maxSlide",V),P("minSlide",E),P("slideWidth",s);function Z(){x=Object.assign({},e.breakpoints),d=Object.assign(Object.assign(Object.assign({},d),e),{i18n:Object.assign(Object.assign({},d.i18n),e.i18n),breakpoints:void 0}),ne(d)}function G(){if(!x||!Object.keys(x).length)return;const l=Object.keys(x).map(y=>Number(y)).sort((y,B)=>+B-+y);let b=Object.assign({},d);l.some(y=>{const B=window.matchMedia(`(min-width: ${y}px)`).matches;return B&&(b=Object.assign(Object.assign({},b),x[y])),B}),ne(b)}function ne(l){Object.entries(l).forEach(([b,y])=>i[b]=y)}const oe=ut(()=>{G(),X()},16);function X(){if(!c.value)return;const l=c.value.getBoundingClientRect();s.value=l.width/i.itemsToShow}function q(){m.value<=0||(F.value=Math.ceil((m.value-1)/2),V.value=it({config:i,slidesCount:m.value}),E.value=lt({config:i,slidesCount:m.value}),i.wrapAround||(_.value=we({val:_.value,max:V.value,min:E.value})))}Fe(()=>{Ge(()=>X()),setTimeout(()=>X(),1e3),G(),Me(),window.addEventListener("resize",oe,{passive:!0}),t("init")}),qe(()=>{Q&&clearTimeout(Q),M&&clearInterval(M),window.removeEventListener("resize",oe,{passive:!0})});let k=!1;const J={x:0,y:0},K={x:0,y:0},U=Y({x:0,y:0}),C=u(!1),f=u(!1),D=()=>{C.value=!0},ce=()=>{C.value=!1};function g(l){["INPUT","TEXTAREA","SELECT"].includes(l.target.tagName)||(k=l.type==="touchstart",k||l.preventDefault(),!(!k&&l.button!==0||H.value)&&(J.x=k?l.touches[0].clientX:l.clientX,J.y=k?l.touches[0].clientY:l.clientY,document.addEventListener(k?"touchmove":"mousemove",ue,!0),document.addEventListener(k?"touchend":"mouseup",Te,!0)))}const ue=ct(l=>{f.value=!0,K.x=k?l.touches[0].clientX:l.clientX,K.y=k?l.touches[0].clientY:l.clientY;const b=K.x-J.x,y=K.y-J.y;U.y=y,U.x=b},i.throttle);function Te(){const l=i.dir==="rtl"?-1:1,b=Math.sign(U.x)*.4,y=Math.round(U.x/s.value+b)*l;if(y&&!k){const B=_e=>{_e.stopPropagation(),window.removeEventListener("click",B,!0)};window.addEventListener("click",B,!0)}W(_.value-y),U.x=0,U.y=0,f.value=!1,document.removeEventListener(k?"touchmove":"mousemove",ue,!0),document.removeEventListener(k?"touchend":"mouseup",Te,!0)}function Me(){!i.autoplay||i.autoplay<=0||(M=setInterval(()=>{i.pauseAutoplayOnHover&&C.value||ae()},i.autoplay))}function Re(){M&&(clearInterval(M),M=null),Me()}const H=u(!1);function W(l){const b=i.wrapAround?l:we({val:l,max:V.value,min:E.value});_.value===b||H.value||(t("slide-start",{slidingToIndex:l,currentSlideIndex:_.value,prevSlideIndex:N.value,slidesCount:m.value}),H.value=!0,N.value=_.value,_.value=b,Q=setTimeout(()=>{if(i.wrapAround){const y=be({val:b,max:V.value,min:0});y!==_.value&&(_.value=y,t("loop",{currentSlideIndex:_.value,slidingToIndex:l}))}t("update:modelValue",_.value),t("slide-end",{currentSlideIndex:_.value,prevSlideIndex:N.value,slidesCount:m.value}),H.value=!1,Re()},i.transition))}function ae(){W(_.value+i.itemsToScroll)}function de(){W(_.value-i.itemsToScroll)}const Ie={slideTo:W,next:ae,prev:de};P("nav",Ie),P("isSliding",H);const $e=De(()=>rt({config:i,currentSlide:_.value,slidesCount:m.value}));P("slidesToScroll",$e);const We=De(()=>{const l=i.dir==="rtl"?-1:1,b=$e.value*s.value*l;return{transform:`translateX(${U.x-b}px)`,transition:`${H.value?i.transition:0}ms`,margin:i.wrapAround?`0 -${m.value*s.value}px`:"",width:"100%"}});function Ne(){Z(),G(),q(),X(),Re()}Object.keys(je).forEach(l=>{["modelValue"].includes(l)||ge(()=>e[l],Ne)}),ge(()=>e.modelValue,l=>{l!==_.value&&W(Number(l))}),ge(m,q),t("before-init"),Z();const Ve={config:i,slidesCount:m,slideWidth:s,next:ae,prev:de,slideTo:W,currentSlide:_,maxSlide:V,minSlide:E,middleSlide:F};a({updateBreakpointsConfigs:G,updateSlidesData:q,updateSlideWidth:X,initDefaultConfigs:Z,restartCarousel:Ne,slideTo:W,next:ae,prev:de,nav:Ie,data:Ve});const me=n.default||n.slides,ve=n.addons,Le=Y(Ve);return()=>{const l=Xe(me==null?void 0:me(Le)),b=(ve==null?void 0:ve(Le))||[];l.forEach((pe,fe)=>pe.props.index=fe);let y=l;if(i.wrapAround){const pe=l.map((he,ee)=>Oe(he,{index:-l.length+ee,isClone:!0,key:`clone-before-${ee}`})),fe=l.map((he,ee)=>Oe(he,{index:l.length+ee,isClone:!0,key:`clone-after-${ee}`}));y=[...pe,...l,...fe]}p.value=l,m.value=Math.max(l.length,1);const B=$("ol",{class:"carousel__track",style:We.value,onMousedownCapture:i.mouseDrag?g:null,onTouchstartPassiveCapture:i.touchDrag?g:null},y),_e=$("div",{class:"carousel__viewport"},B);return $("section",{ref:c,class:{carousel:!0,"is-sliding":H.value,"is-dragging":f.value,"is-hover":C.value,"carousel--rtl":i.dir==="rtl"},dir:i.dir,"aria-label":i.i18n.ariaGallery,tabindex:"0",onMouseenter:D,onMouseleave:ce},[_e,b,$(mt)])}}}),Se;(function(e){e.arrowUp="arrowUp",e.arrowDown="arrowDown",e.arrowRight="arrowRight",e.arrowLeft="arrowLeft"})(Se||(Se={}));const _t={arrowUp:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z",arrowDown:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z",arrowRight:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z",arrowLeft:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"};function pt(e){return e in Se}const xe=e=>{const n=I("config",Y(Object.assign({},w))),t=String(e.name),a=`icon${t.charAt(0).toUpperCase()+t.slice(1)}`;if(!t||typeof t!="string"||!pt(t))return;const r=_t[t],c=$("path",{d:r}),p=n.i18n[a]||e.title||t,s=$("title",p);return $("svg",{class:"carousel__icon",viewBox:"0 0 24 24",role:"img","aria-label":p},[s,c])};xe.props={name:String,title:String};const ft=(e,{slots:n,attrs:t})=>{const{next:a,prev:r}=n||{},c=I("config",Y(Object.assign({},w))),p=I("maxSlide",u(1)),s=I("minSlide",u(1)),m=I("currentSlide",u(1)),i=I("nav",{}),{dir:d,wrapAround:x,i18n:_}=c,N=d==="rtl",F=$("button",{type:"button",class:["carousel__prev",!x&&m.value<=s.value&&"carousel__prev--disabled",t==null?void 0:t.class],"aria-label":_.ariaPreviousSlide,onClick:i.prev},(r==null?void 0:r())||$(xe,{name:N?"arrowRight":"arrowLeft"})),V=$("button",{type:"button",class:["carousel__next",!x&&m.value>=p.value&&"carousel__next--disabled",t==null?void 0:t.class],"aria-label":_.ariaNextSlide,onClick:i.next},(a==null?void 0:a())||$(xe,{name:N?"arrowLeft":"arrowRight"}));return[F,V]};var ht=ke({name:"CarouselSlide",props:{index:{type:Number,default:1},isClone:{type:Boolean,default:!1}},setup(e,{slots:n}){const t=I("config",Y(Object.assign({},w))),a=I("currentSlide",u(0)),r=I("slidesToScroll",u(0)),c=I("isSliding",u(!1)),p=()=>e.index===a.value,s=()=>e.index===a.value-1,m=()=>e.index===a.value+1,i=()=>{const d=Math.floor(r.value),x=Math.ceil(r.value+t.itemsToShow-1);return e.index>=d&&e.index<=x};return()=>{var d;return $("li",{style:{width:`${100/t.itemsToShow}%`},class:{carousel__slide:!0,"carousel__slide--clone":e.isClone,"carousel__slide--visible":i(),"carousel__slide--active":p(),"carousel__slide--prev":s(),"carousel__slide--next":m(),"carousel__slide--sliding":c.value},"aria-hidden":!i()},(d=n.default)===null||d===void 0?void 0:d.call(n))}}});const ze=e=>(Ae("data-v-2b3868e5"),e=e(),Ce(),e),He=Ee+"#icon-star",gt={class:"star-rating"},yt=["onClick","onMouseover"],wt=ze(()=>o("use",{"xlink:href":He},null,-1)),bt=[wt],St={class:"star-rating__colored"},xt=ze(()=>o("use",{"xlink:href":He},null,-1)),kt=[xt],At={__name:"AddRating",props:{isVote:Boolean,id:String,starLimit:{type:Number,default:5}},emits:["update:isVote"],setup(e,{emit:n}){const t=e,a=u(0),r=u(0),c=async s=>{a.value=s;const m=await Ke(t.id,s);n("update:isVote",!0),console.log(m)},p=s=>{console.log(s),r.value=s};return(s,m)=>(v(),h("div",gt,[(v(!0),h(te,null,se(e.starLimit,i=>(v(),h("svg",{class:Je(["icon",{"active-rating":i<=r.value}]),key:i,onClick:d=>c(i),onMouseover:d=>p(i)},bt,42,yt))),128)),o("div",St,[(v(!0),h(te,null,se(a.value,i=>(v(),h("svg",{class:"icon active-rating",key:i},kt))),128))])]))}},Ct=le(At,[["__scopeId","data-v-2b3868e5"]]);const re=e=>(Ae("data-v-ad580dad"),e=e(),Ce(),e),Tt={class:"reserve"},Mt=re(()=>o("h2",{class:"reserve__title"},"Reserve",-1)),Rt=["onSubmit"],It=re(()=>o("p",{style:{"margin-bottom":"2px"}},"Your name",-1)),$t=re(()=>o("p",{style:{"margin-bottom":"2px"}},"Your phone number",-1)),Nt=re(()=>o("p",{style:{"margin-bottom":"2px"}},"Your email",-1)),Vt={key:1},Lt={__name:"addReserve",props:{id:{type:String},hideReserve:{type:Function,default:()=>{}}},setup(e){const n=e,t=Qe(),a=Y({name:"",phone:"",email:"",description:""}),r=u(!1),c=async()=>{try{const p=Ze(a.phone),s={name:a.name,email:a.email,description:a.description,phone:p};if(s.name===""||s.email===""||s.phone.length<10)return;await t.fetchAddReserve(n.id,s),r.value=!0,setTimeout(()=>{n.hideReserve()},1500)}catch(p){console.log(p.message)}};return(p,s)=>{const m=ie("UInput"),i=ie("UButton");return v(),h("div",Tt,[Mt,r.value?(v(),h("h2",Vt,"Thank you, we will contact you!")):(v(),h("form",{key:0,action:"",class:"reserve__form",onSubmit:Ue(c,["prevent","stop"])},[T(m,{type:"text",modelValue:a.name,"onUpdate:modelValue":s[0]||(s[0]=d=>a.name=d)},{default:S(()=>[It]),_:1},8,["modelValue"]),T(m,{type:"tel",modelValue:a.phone,"onUpdate:modelValue":s[1]||(s[1]=d=>a.phone=d)},{default:S(()=>[$t]),_:1},8,["modelValue"]),T(m,{type:"email",modelValue:a.email,"onUpdate:modelValue":s[2]||(s[2]=d=>a.email=d)},{default:S(()=>[Nt]),_:1},8,["modelValue"]),T(m,{required:!1,isValid:!0,placeholder:"Maybe you have a question that you would like to ask the owner?",type:"textarea",modelValue:a.description,"onUpdate:modelValue":s[3]||(s[3]=d=>a.description=d)},null,8,["modelValue"]),T(i,{type:"submit",style:{margin:"0 auto"}},{default:S(()=>[L("Reserve")]),_:1})],40,Rt))])}}},Dt=le(Lt,[["__scopeId","data-v-ad580dad"]]);const j=e=>(Ae("data-v-7f17d3df"),e=e(),Ce(),e),Ot=Ee+"#icon-user",jt={class:"review-wrapper"},Et={class:"review-box"},Ut={class:"heading"},Bt={class:"heading__title"},Pt=["src","alt"],Yt={class:"price"},Xt={class:"price__list"},zt={class:"price__item"},Ht={class:"price__text"},Wt=j(()=>o("span",null,"Address:",-1)),Ft={class:"price__item"},Gt={class:"price__text"},qt=j(()=>o("span",null,"Price per night:",-1)),Jt={class:"price__item"},Kt={class:"price__text"},Qt=j(()=>o("span",null,"Price from 3 nights:",-1)),Zt={class:"description"},en={class:"description__text"},tn={class:"button-box"},nn={class:"info-wrapper"},on={class:"info-user"},an=j(()=>o("h2",{class:"info-user__title"},"Information about the owner:",-1)),sn={class:"user-text"},ln={class:"user-text"},rn={class:"user-text"},cn={class:"country-list"},un={class:"country-list__item"},dn={class:"country-list__title"},mn={class:"country-list__item"},vn={class:"country-list__span"},_n=j(()=>o("h2",{style:{marginBottom:"20px",marginTop:"20px"}},"Reviews",-1)),pn={class:"reviews"},fn=j(()=>o("h2",{class:"reviews__title"},"BAD RATING",-1)),hn={key:0},gn=j(()=>o("h3",null,"Leave a rating",-1)),yn={key:0},wn={key:0,class:"comments-wrapper"},bn={key:0,class:"comments-box"},Sn={class:"avatar-box"},xn=j(()=>o("div",{class:"avatar-circle"},[o("svg",{class:"avatar-circle__svg"},[o("use",{"xlink:href":Ot})])],-1)),kn={class:"comment"},An={key:0,class:"comment__text"},Cn={key:1,class:"comment__text"},Tn=["onClick"],Mn=["onSubmit"],Rn=j(()=>o("h2",null,"Write a review",-1)),In={class:"remove"},$n=j(()=>o("h2",null,"Are you sure you want to delete?",-1)),Nn={class:"remove-btn-wrapper"},Vn={__name:"apartmentsMainInfo",props:{apartment:{type:Object,required:!0},someLocalProperty:{type:Number,default:2}},setup(e){const n=e,t=Ye({position:"top"}),{addCommentPost:a,comments:r,fetchCommentDelleteId:c,fetchApartmentsDelleteId:p}=Be(),{id:s,isAuth:m,email:i}=et(),d=Y({comment:""}),x=u(!1),_=u(!1),N=u(!1),F=u(!1),V=u(!1),E=u(!1),M=u(!1);Pe(()=>{s!==n.apartment.owner&&n.apartment.ratings.find(f=>f.user===s)&&(E.value=!0)});const Q=tt(),Z=async()=>{try{if(d.comment.trim()==="")return console.log("додайте коментар");if(d.comment.length<5)return t.error("The comment should be longer");new FormData().append("comment",d.comment),await a(n.apartment._id,d),d.comment="",X()}catch(C){console.log(C.message)}},G=async C=>{try{const f=r.findIndex(D=>D._id===C);f!==-1&&r.splice(f,1),await c(C)}catch(f){console.log(f.message)}},ne=()=>{x.value=!x.value},oe=()=>{_.value=!_.value},X=()=>{_.value=!_.value},q=()=>{M.value=!M.value},k=()=>{N.value=!N.value},J=async C=>{try{V.value=!0,await p(C),V.value=!1,Q.push({name:"apartments"})}catch(f){console.log(f.message)}},K=[...n.apartment.images,n.apartment.coverImage],U=Math.round(n.apartment.rating);return(C,f)=>{const D=ie("UButton"),ce=ie("ULoader");return v(),h("div",jt,[o("div",Et,[o("div",Ut,[o("h2",Bt,A(e.apartment.name),1),T(nt,{rating:R(U)},null,8,["rating"])]),T(R(vt),{"items-to-show":1,class:"carousel"},{addons:S(()=>[T(R(ft))]),default:S(()=>[(v(),h(te,null,se(K,g=>T(R(ht),{key:g},{default:S(()=>[o("img",{src:g,alt:e.apartment.name,class:"img"},null,8,Pt)]),_:2},1024)),64))]),_:1}),o("div",Yt,[o("ul",Xt,[o("li",zt,[o("p",Ht,[Wt,L(" "+A(e.apartment.address),1)])]),o("li",Ft,[o("p",Gt,[qt,L(" "+A(e.apartment.price)+"$",1)])]),o("li",Jt,[o("p",Kt,[Qt,L(" "+A(e.apartment.longStayPrice)+"$ ",1)])])])]),o("div",Zt,[o("p",en,A(e.apartment.description),1)]),o("div",tn,[R(s)!==e.apartment.owner?(v(),z(D,{key:0,class:"button-box__button",onClick:f[0]||(f[0]=g=>M.value=!M.value)},{default:S(()=>[L("Reserve")]),_:1})):(v(),z(D,{key:1,class:"button-box__button",onClick:f[1]||(f[1]=g=>N.value=!0)},{default:S(()=>[L("Remove")]),_:1}))])]),o("div",nn,[o("div",on,[an,o("p",sn,"Name: "+A(e.apartment.user.user),1),o("p",ln,"Tel: "+A(e.apartment.user.phone),1),o("p",rn,"E-mail: "+A(e.apartment.user.email),1)]),o("ul",cn,[o("li",un,[o("h3",dn,"Country: "+A(e.apartment.country),1)]),o("li",mn,[o("p",null,[L(" Location: "),o("span",vn,A(e.apartment.location),1)])])]),_n,o("div",pn,[o("p",null,A(R(r).length)+" Reviews",1),fn,R(s)!==e.apartment.owner&&R(i)!==e.apartment.user.email&&R(m)?(v(),h("div",hn,[gn,E.value?(v(),h("h5",yn,"Thank you for voting")):(v(),z(Ct,{key:1,id:e.apartment._id,"onUpdate:isVote":f[2]||(f[2]=g=>E.value=g)},null,8,["id"]))])):O("",!0)]),!R(r).length!==0?(v(),h("div",wn,[(v(!0),h(te,null,se(R(r),g=>(v(),h("div",{key:g._id,class:"comments"},[g.comment.length>1?(v(),h("div",bn,[o("div",Sn,[xn,o("p",null,A(g.user.name),1)]),o("div",kn,[x.value?(v(),h("p",Cn,A(g.comment),1)):(v(),h("p",An,A(g.comment.slice(0,70)+"..."),1)),g.comment.length>70?(v(),h("button",{key:2,onClick:ne},A(x.value?"cкоротити":"Читати далі"),1)):O("",!0),!F.value&&R(s)===e.apartment.owner?(v(),h("button",{key:3,onClick:ue=>G(g._id)}," Remove ",8,Tn)):O("",!0)])])):O("",!0)]))),128))])):O("",!0),R(m)?(v(),z(D,{key:1,onClick:oe,class:"button__add-response"},{default:S(()=>[L("Leave a comment")]),_:1})):O("",!0),_.value?(v(),z(ye,{key:2,toggleModal:_.value,hideDialog:X},{default:S(()=>[o("form",{onSubmit:Ue(Z,["prevent","stop"]),class:"form-response"},[Rn,ot(o("textarea",{class:"form-response__text","onUpdate:modelValue":f[3]||(f[3]=g=>d.comment=g)},null,512),[[at,d.comment]]),T(D,{type:"submit"},{default:S(()=>[L("Send")]),_:1})],40,Mn)]),_:1},8,["toggleModal"])):O("",!0),N.value?(v(),z(ye,{key:3,toggleModal:N.value,hideDialog:k},{default:S(()=>[o("div",In,[$n,o("div",Nn,[T(D,{onClick:f[4]||(f[4]=g=>J(e.apartment._id))},{default:S(()=>[L("Yes")]),_:1}),T(D,{onClick:k},{default:S(()=>[L("No")]),_:1})])]),T(ce,{loading:V.value},null,8,["loading"])]),_:1},8,["toggleModal"])):O("",!0),M.value?(v(),z(ye,{key:4,toggleModal:M.value,hideDialog:q},{default:S(()=>[T(Dt,{id:e.apartment._id,hideReserve:q},null,8,["id"])]),_:1},8,["toggleModal"])):O("",!0)])])}}},Ln=le(Vn,[["__scopeId","data-v-7f17d3df"]]);const Dn={class:"container"},On={__name:"ReviewPage",setup(e){const n=st(),t=Be(),{id:a}=n.params,r=Ye({position:"top"}),c=u(null),p=u(null);return Pe(async()=>{try{const s=await t.fetchApartmentsId(a);c.value=s.result,p.value=s.comments}catch(s){r.error(s.message)}}),(s,m)=>(v(),h("main",null,[o("section",null,[o("div",Dn,[c.value?(v(),z(Ln,{key:0,apartment:c.value},null,8,["apartment"])):O("",!0)])])]))}},En=le(On,[["__scopeId","data-v-fbd3a13e"]]);export{En as default};
