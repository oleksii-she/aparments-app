import{S as U,C as I}from"./containerAuth-ac2e6249.js";import{_ as P,b as B,u as C,r as w,d as v,e as p,o as k,c as S,f as o,a as e,g as n,t as b,h as y,m as L,R,i as E,F as z,p as F,k as N,A as Z,l as $}from"./index-83b94066.js";import{_ as D}from"./google-4d24d286.js";const m=r=>(F("data-v-6aaa101c"),r=r(),N(),r),M=$+"#icon-eyes",T=["onSubmit"],j=m(()=>e("h2",{class:"form__title"},"Login",-1)),q={class:"warning__text"},G={class:"wrapper-password"},H={class:"warning__text"},J=m(()=>e("svg",{class:"eyes-icon"},[e("use",{"xlink:href":M})],-1)),K=[J],O=m(()=>e("a",{href:"https://apartments-backend.onrender.com/api/auth/google"},[e("img",{src:D,alt:"google-auth-link"})],-1)),Q={__name:"login",setup(r){const f=Z({position:"top"}),h=B(),c=C(),a=w({email:"",password:""}),t=w({name:"",password:"",email:""}),i=v(!1),x=/^([a-zA-Z0-9._%-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})$/,_=v(!1),V=async()=>{let l=!0;switch(!0){case!a.email:t.email="the field must not be empty",l=!1;break;case!x.test(a.email):t.email="Invalid format email",l=!1;break;default:t.email="";break}switch(!0){case!a.password:t.password="the field must not be empty",l=!1;break;default:t.password="",t.confirmPassword="";break}if(!l)return;const s={email:a.email,password:a.password};try{i.value=!0,await c.login(s),i.value=!1,h.push({name:"apartments"})}catch(d){if(f.error(d.message),c.statusError){i.value=!1,console.log(c.statusError);return}}};return(l,s)=>{const d=p("ULoader"),g=p("UInput"),A=p("UButton");return k(),S(z,null,[o(d,{loading:i.value},null,8,["loading"]),e("form",{class:"form__auth",onSubmit:E(V,["prevent","stop"])},[j,o(g,{class:"input_margin",modelValue:a.email,"onUpdate:modelValue":s[0]||(s[0]=u=>a.email=u),placeholder:"Email",type:"email"},{default:n(()=>[e("p",q,b(t.email),1)]),_:1},8,["modelValue"]),e("div",G,[o(g,{class:"input_margin",modelValue:a.password,"onUpdate:modelValue":s[1]||(s[1]=u=>a.password=u),placeholder:"Password",type:"password",showPassword:_.value},{default:n(()=>[e("p",H,b(t.password),1)]),_:1},8,["modelValue","showPassword"]),e("button",{type:"button",class:"button-eyes",onClick:s[2]||(s[2]=u=>_.value=!_.value)},K)]),O,o(L(R),{to:{name:"registration"}},{default:n(()=>[y("Register in another way")]),_:1}),o(A,null,{default:n(()=>[y("Вхід")]),_:1})],40,T)],64)}}},W=P(Q,[["__scopeId","data-v-6aaa101c"]]),ae={__name:"loginPage",setup(r){return(f,h)=>(k(),S("main",null,[o(U,null,{default:n(()=>[o(I,null,{default:n(()=>[o(W)]),_:1})]),_:1})]))}};export{ae as default};
